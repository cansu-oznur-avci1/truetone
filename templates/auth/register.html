{% extends "base.html" %}
{% block title %}Register | TrueTone{% endblock %}

{% block content %}
<div class="container min-vh-100 d-flex align-items-center justify-content-center">
  <div class="card shadow-lg border-0 rounded-4" style="width: 100%; max-width: 450px;">
    <div class="card-body p-4 p-md-5">

      <div class="text-center mb-4">
        <h3 class="fw-bold">Create Account</h3>
        <p class="text-muted small mb-0">
          Sign up to start giving feedback
        </p>
      </div>
      {% if form.errors %}
        <div class="alert alert-danger shadow-sm border-0 rounded-4">
          <ul class="mb-0">
            {% for field in form %}
                {% for error in field.errors %}
                    <li><strong>{{ field.label }}:</strong> {{ error }}</li>
                {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
                <li>{{ error }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
      <form method="post" action="{% url 'register' %}" novalidate>
        {% if form.errors %}
          <div class="alert alert-danger">
            {{ form.errors }}
          </div>
        {% endif %}
        {% csrf_token %}

        <div class="mb-3">
          <label class="form-label fw-semibold">Username</label>
          <input type="text" name="username"
                 class="form-control form-control-lg"
                 placeholder="username" required>
        </div>

        <div class="mb-3">
          <label class="form-label fw-semibold">Email</label>
          <input type="email" name="email"
                 class="form-control form-control-lg"
                 placeholder="email@example.com" required>
        </div>

        <div class="mb-3">
          <label class="form-label fw-semibold">Password</label>
          <input type="password" name="password1"
                 class="form-control form-control-lg"
                 placeholder="••••••••" required>
        </div>

        <div class="mb-3">
          <label class="form-label fw-semibold">Confirm Password</label>
          <input type="password" name="password2"
                 class="form-control form-control-lg"
                 placeholder="••••••••" required>
        </div>

        {% if error %}
          <div class="alert alert-danger py-2 small text-center">
            {{ error }}
          </div>
        {% endif %}

        <div class="d-grid mt-4">
          <button type="submit" class="btn btn-success btn-lg rounded-pill">
            Register
          </button>
        </div>
      </form>

      <div class="text-center mt-4">
        <span class="text-muted small">Do you already have an account?</span>
        <a href="{% url 'login' %}" class="small fw-semibold text-decoration-none">
          Login
        </a>
      </div>

    </div>
  </div>
</div>
{% endblock %}

